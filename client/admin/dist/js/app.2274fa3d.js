(function(e){function t(t){for(var o,s,r=t[0],l=t[1],c=t[2],u=0,m=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},i={app:0},n=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("71ec"),i=a.n(o);i.a},"0bc8":function(e,t,a){e.exports=a.p+"img/logo_white.28fff3d0.png"},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);var o=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("app-navbar"),a("v-content",[a("v-snackbar",{attrs:{value:e.error,timeout:0,color:"error"}},[e._v("\n      "+e._s(e.error)+"\n    ")]),a("router-view",{key:e.$route.fullPath})],1)],1)},n=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[o("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return[o("v-list-item",{key:t.text,attrs:{to:t.path,link:""},on:{click:t.click}},[o("v-list-item-action",[o("v-icon",[e._v(e._s(t.icon))])],1),o("v-list-item-content",[o("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),o("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,dark:"",app:"",color:"blue"}},[o("v-btn",{staticClass:"ml-0",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleDrawer(t)}}},[o("v-icon",[e._v("mdi-menu")])],1),o("v-toolbar-title",{staticClass:"ml-3"},[o("span",{staticClass:"hidden-sm-and-down ml-2"},[e._v("Article CMS")])]),o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{icon:""}},[o("v-avatar",{attrs:{size:"30",tile:""}},[o("v-img",{attrs:{src:a("0bc8")}})],1)],1),e.processing?o("v-progress-linear",{staticClass:"mt-0",staticStyle:{bottom:"-4px"},attrs:{indeterminate:!0,color:"blue",absolute:""}}):e._e()],1)],1)},r=[],l=a("2f62"),c={data(){return{}},computed:{isUserAuthenticated(){return this.$store.getters.isUserAuthenticated},processing(){return this.$store.getters.getProcessing},email(){return this.$store.getters.getUserEmail},drawer:{get(){return this.$store.getters.getDrawer},set(e){this.setDrawer(e)}},items(){return this.isUserAuthenticated?[{icon:"mdi-home",text:"Main Page",path:{path:"/index"},click:()=>{}},{icon:"mdi-magnify",text:"Search",path:{path:"/search"},click:()=>{}},{icon:"mdi-book",text:"About",path:{path:"/about"},click:()=>{}},{icon:"mdi-account-box",text:"Contact",path:{path:"/contact"},click:()=>{}},{icon:"mdi-file-certificate",text:"Terms",path:{path:"/terms"},click:()=>{}},{icon:"mdi-folder-open",text:"All Articles",path:{path:"/all_articles"},click:()=>{}},{icon:"mdi-file-edit",text:"Article Editor",path:{path:"/articles"},click:()=>{}},{icon:"mdi-cog",text:"Settings",path:{path:"/settings"},click:()=>{}},{icon:"mdi-web-check",text:"Robots.txt File",path:{path:"/robots.txt"},click:()=>{}},{icon:"mdi-credit-card-check-outline",text:"Ads.txt File",path:{path:"/ads.txt"},click:()=>{}},{icon:"mdi-logout",text:"Signout",click:()=>{this.$store.dispatch("SIGNOUT").then(()=>{this.$router.push("/signin")})}}]:[{icon:"mdi-login",text:"Signin",path:{path:"/signin"},click:()=>{}}]}},methods:{...Object(l["b"])(["setDrawer","toggleDrawer"])}},d=c,u=(a("a693"),a("2877")),m=a("6544"),h=a.n(m),p=a("40dc"),v=a("8212"),f=a("8336"),g=a("132d"),b=a("adda"),C=a("8860"),_=a("da13"),E=a("1800"),x=a("5d23"),T=a("f774"),k=a("8e36"),y=a("2fa4"),w=a("2a7f"),S=Object(u["a"])(d,s,r,!1,null,"79326d48",null),D=S.exports;h()(S,{VAppBar:p["a"],VAvatar:v["a"],VBtn:f["a"],VIcon:g["a"],VImg:b["a"],VList:C["a"],VListItem:_["a"],VListItemAction:E["a"],VListItemContent:x["a"],VListItemTitle:x["b"],VNavigationDrawer:T["a"],VProgressLinear:k["a"],VSpacer:y["a"],VToolbarTitle:w["a"]});var $={data(){return{}},components:{AppNavbar:D},computed:{error(){return this.$store.getters.getError}}},O=$,N=(a("034f"),a("7496")),R=a("a75b"),V=a("2db4"),M=Object(u["a"])(O,i,n,!1,null,null,null),A=M.exports;h()(M,{VApp:N["a"],VContent:R["a"],VSnackbar:V["a"]});var P=a("8c4f"),U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"blue",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Authentication")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-account",type:"text",required:"",placeholder:" "},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",required:"",placeholder:" "},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:!e.processing,color:"blue",disabled:e.processing},on:{click:function(t){return t.preventDefault(),e.signin(t)}}},[e._v("\n            Signin\n          ")])],1)],1)],1)],1)],1)},I=[],L={data(){return{email:"",password:""}},computed:{error(){return this.$store.getters.getError},processing(){return this.$store.getters.getProcessing}},methods:{signin(){this.$store.dispatch("SIGNIN",{email:this.email,password:this.password}).then(()=>{this.error||this.$router.push("/")})}}},j=L,q=a("b0af"),G=a("99d9"),F=a("62ad"),B=a("a523"),H=a("4bd4"),K=a("0fd9"),Y=a("8654"),z=a("71d9"),J=Object(u["a"])(j,U,I,!1,null,null,null),W=J.exports;h()(J,{VBtn:f["a"],VCard:q["a"],VCardActions:G["a"],VCardText:G["b"],VCol:F["a"],VContainer:B["a"],VForm:H["a"],VRow:K["a"],VSpacer:y["a"],VTextField:Y["a"],VToolbar:z["a"],VToolbarTitle:w["a"]});var Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Meta Tags")]),a("v-text-field",{attrs:{label:"Last Modified",disabled:""},model:{value:e.lastModified,callback:function(t){e.lastModified=t},expression:"lastModified"}}),a("v-text-field",{attrs:{label:"Title"},model:{value:e.doc.metadata.title,callback:function(t){e.$set(e.doc.metadata,"title",t)},expression:"doc.metadata.title"}}),a("v-text-field",{attrs:{label:"Keywords"},model:{value:e.doc.metadata.keywords,callback:function(t){e.$set(e.doc.metadata,"keywords",t)},expression:"doc.metadata.keywords"}}),a("v-textarea",{attrs:{label:"Description"},model:{value:e.doc.metadata.description,callback:function(t){e.$set(e.doc.metadata,"description",t)},expression:"doc.metadata.description"}}),e.doc.content?a("v-col",{staticClass:"pa-0"},[a("h3",{staticClass:"headline mt-3"},[e._v("Content")]),a("editor",{ref:"editor",attrs:{image:e.imageToolConfig,header:"",list:"",paragraph:"",raw:"",delimiter:"",code:"",warning:"",quote:"",marker:"",linkTool:"",inlineCode:"",table:"",autofocus:!1,"init-data":e.doc.content},on:{change:e.editorOnChange,save:e.editorOnSave}})],1):e._e(),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},Q=[],X=a("1503"),ee=a("4487"),te=a("b4f5"),ae=a.n(te);const oe=function(){return{config:{uploader:{uploadByFile:e=>{const t=ae.a[e.type];if(!t||!t.extensions[0])return Promise.reject();const a=`${Object(ee["generate"])(16)}.${t.extensions[0]}`;return this.$store.dispatch("UPLOAD_FILE",{directory:"/images/",file:e,name:a}).then(e=>e?{success:1,file:{url:`/static_files/images/${a}`}}:Promise.reject())}}}}},ie=function(){let e="";return this.doc.metadata.lastModified&&(e=new Date(this.doc.metadata.lastModified).toString()),e};var ne={data(){return{doc:{name:"",metadata:{type:"basic-article",title:"",keywords:"",description:"",created:"",lastModified:"",author:null},content:null}}},components:{Editor:X["a"]},computed:{lastModified:ie,imageToolConfig:oe,processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"index"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{async updateDocument(){this.$refs.editor&&await this.$refs.editor.save(),this.doc.metadata.lastModified=(new Date).toISOString(),this.doc.metadata.author={user_id:this.$store.getters.getUser_id},this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"index"},doc:this.doc})},editorOnSave(e){this.doc.content=e},editorOnChange(){return Promise.resolve()}}},se=ne,re=a("a722"),le=a("a844"),ce=Object(u["a"])(se,Z,Q,!1,null,null,null),de=ce.exports;h()(ce,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VLayout:re["a"],VTextField:Y["a"],VTextarea:le["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Meta Tags")]),a("v-text-field",{attrs:{label:"Last Modified",disabled:""},model:{value:e.lastModified,callback:function(t){e.lastModified=t},expression:"lastModified"}}),a("v-text-field",{attrs:{label:"Title"},model:{value:e.doc.metadata.title,callback:function(t){e.$set(e.doc.metadata,"title",t)},expression:"doc.metadata.title"}}),a("v-text-field",{attrs:{label:"Keywords"},model:{value:e.doc.metadata.keywords,callback:function(t){e.$set(e.doc.metadata,"keywords",t)},expression:"doc.metadata.keywords"}}),a("v-textarea",{attrs:{label:"Description"},model:{value:e.doc.metadata.description,callback:function(t){e.$set(e.doc.metadata,"description",t)},expression:"doc.metadata.description"}}),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},me=[],he={data(){return{doc:{name:"",metadata:{type:"basic-article",title:"",keywords:"",description:"",created:"",lastModified:"",author:null}}}},computed:{lastModified:ie,processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"search"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{async updateDocument(){this.$refs.editor&&await this.$refs.editor.save(),this.doc.metadata.lastModified=(new Date).toISOString(),this.doc.metadata.author={user_id:this.$store.getters.getUser_id},this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"search"},doc:this.doc})},editorOnSave(e){this.doc.content=e},editorOnChange(){return Promise.resolve()}}},pe=he,ve=Object(u["a"])(pe,ue,me,!1,null,null,null),fe=ve.exports;h()(ve,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VLayout:re["a"],VTextField:Y["a"],VTextarea:le["a"]});var ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Meta Tags")]),a("v-text-field",{attrs:{label:"Last Modified",disabled:""},model:{value:e.lastModified,callback:function(t){e.lastModified=t},expression:"lastModified"}}),a("v-text-field",{attrs:{label:"Title"},model:{value:e.doc.metadata.title,callback:function(t){e.$set(e.doc.metadata,"title",t)},expression:"doc.metadata.title"}}),a("v-text-field",{attrs:{label:"Keywords"},model:{value:e.doc.metadata.keywords,callback:function(t){e.$set(e.doc.metadata,"keywords",t)},expression:"doc.metadata.keywords"}}),a("v-textarea",{attrs:{label:"Description"},model:{value:e.doc.metadata.description,callback:function(t){e.$set(e.doc.metadata,"description",t)},expression:"doc.metadata.description"}}),e.doc.content?a("v-col",{staticClass:"pa-0"},[a("h3",{staticClass:"headline mt-3"},[e._v("Content")]),a("editor",{ref:"editor",attrs:{image:e.imageToolConfig,header:"",list:"",paragraph:"",raw:"",delimiter:"",code:"",warning:"",quote:"",marker:"",linkTool:"",inlineCode:"",table:"",autofocus:!1,"init-data":e.doc.content},on:{change:e.editorOnChange,save:e.editorOnSave}})],1):e._e(),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},be=[],Ce={data(){return{doc:{name:"",metadata:{type:"basic-article",title:"",keywords:"",description:"",created:"",lastModified:"",author:null},content:null}}},components:{Editor:X["a"]},computed:{lastModified:ie,imageToolConfig:oe,processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"about"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{async updateDocument(){this.$refs.editor&&await this.$refs.editor.save(),this.doc.metadata.lastModified=(new Date).toISOString(),this.doc.metadata.author={user_id:this.$store.getters.getUser_id},this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"about"},doc:this.doc})},editorOnSave(e){this.doc.content=e},editorOnChange(){return Promise.resolve()}}},_e=Ce,Ee=Object(u["a"])(_e,ge,be,!1,null,null,null),xe=Ee.exports;h()(Ee,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VLayout:re["a"],VTextField:Y["a"],VTextarea:le["a"]});var Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Meta Tags")]),a("v-text-field",{attrs:{label:"Last Modified",disabled:""},model:{value:e.lastModified,callback:function(t){e.lastModified=t},expression:"lastModified"}}),a("v-text-field",{attrs:{label:"Title"},model:{value:e.doc.metadata.title,callback:function(t){e.$set(e.doc.metadata,"title",t)},expression:"doc.metadata.title"}}),a("v-text-field",{attrs:{label:"Keywords"},model:{value:e.doc.metadata.keywords,callback:function(t){e.$set(e.doc.metadata,"keywords",t)},expression:"doc.metadata.keywords"}}),a("v-textarea",{attrs:{label:"Description"},model:{value:e.doc.metadata.description,callback:function(t){e.$set(e.doc.metadata,"description",t)},expression:"doc.metadata.description"}}),e.doc.content?a("v-col",{staticClass:"pa-0"},[a("h3",{staticClass:"headline mt-3"},[e._v("Content")]),a("editor",{ref:"editor",attrs:{image:e.imageToolConfig,header:"",list:"",paragraph:"",raw:"",delimiter:"",code:"",warning:"",quote:"",marker:"",linkTool:"",inlineCode:"",table:"",autofocus:!1,"init-data":e.doc.content},on:{change:e.editorOnChange,save:e.editorOnSave}})],1):e._e(),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},ke=[],ye={data(){return{doc:{name:"",metadata:{type:"basic-article",title:"",keywords:"",description:"",created:"",lastModified:"",author:null},content:null}}},components:{Editor:X["a"]},computed:{lastModified:ie,imageToolConfig:oe,processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"contact"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{async updateDocument(){this.$refs.editor&&await this.$refs.editor.save(),this.doc.metadata.lastModified=(new Date).toISOString(),this.doc.metadata.author={user_id:this.$store.getters.getUser_id},this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"contact"},doc:this.doc})},editorOnSave(e){this.doc.content=e},editorOnChange(){return Promise.resolve()}}},we=ye,Se=Object(u["a"])(we,Te,ke,!1,null,null,null),De=Se.exports;h()(Se,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VLayout:re["a"],VTextField:Y["a"],VTextarea:le["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Meta Tags")]),a("v-text-field",{attrs:{label:"Last Modified",disabled:""},model:{value:e.lastModified,callback:function(t){e.lastModified=t},expression:"lastModified"}}),a("v-text-field",{attrs:{label:"Title"},model:{value:e.doc.metadata.title,callback:function(t){e.$set(e.doc.metadata,"title",t)},expression:"doc.metadata.title"}}),a("v-text-field",{attrs:{label:"Keywords"},model:{value:e.doc.metadata.keywords,callback:function(t){e.$set(e.doc.metadata,"keywords",t)},expression:"doc.metadata.keywords"}}),a("v-textarea",{attrs:{label:"Description"},model:{value:e.doc.metadata.description,callback:function(t){e.$set(e.doc.metadata,"description",t)},expression:"doc.metadata.description"}}),e.doc.content?a("v-col",{staticClass:"pa-0"},[a("h3",{staticClass:"headline mt-3"},[e._v("Content")]),a("editor",{ref:"editor",attrs:{image:e.imageToolConfig,header:"",list:"",paragraph:"",raw:"",delimiter:"",code:"",warning:"",quote:"",marker:"",linkTool:"",inlineCode:"",table:"",autofocus:!1,"init-data":e.doc.content},on:{change:e.editorOnChange,save:e.editorOnSave}})],1):e._e(),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},Oe=[],Ne={data(){return{doc:{name:"",metadata:{type:"basic-article",title:"",keywords:"",description:"",created:"",lastModified:"",author:null},content:null}}},components:{Editor:X["a"]},computed:{lastModified:ie,imageToolConfig:oe,processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"terms"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{async updateDocument(){this.$refs.editor&&await this.$refs.editor.save(),this.doc.metadata.lastModified=(new Date).toISOString(),this.doc.metadata.author={user_id:this.$store.getters.getUser_id},this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"terms"},doc:this.doc})},editorOnSave(e){this.doc.content=e},editorOnChange(){return Promise.resolve()}}},Re=Ne,Ve=Object(u["a"])(Re,$e,Oe,!1,null,null,null),Me=Ve.exports;h()(Ve,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VLayout:re["a"],VTextField:Y["a"],VTextarea:le["a"]});var Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Meta Tags")]),a("v-text-field",{attrs:{label:"Last Modified",disabled:""},model:{value:e.lastModified,callback:function(t){e.lastModified=t},expression:"lastModified"}}),a("v-text-field",{attrs:{label:"Title"},model:{value:e.doc.metadata.title,callback:function(t){e.$set(e.doc.metadata,"title",t)},expression:"doc.metadata.title"}}),a("v-text-field",{attrs:{label:"Keywords"},model:{value:e.doc.metadata.keywords,callback:function(t){e.$set(e.doc.metadata,"keywords",t)},expression:"doc.metadata.keywords"}}),a("v-textarea",{attrs:{label:"Description"},model:{value:e.doc.metadata.description,callback:function(t){e.$set(e.doc.metadata,"description",t)},expression:"doc.metadata.description"}}),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},Pe=[],Ue={data(){return{doc:{name:"",metadata:{type:"basic-article",title:"",keywords:"",description:"",created:"",lastModified:"",author:null}}}},computed:{lastModified:ie,processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"allArticles"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{async updateDocument(){this.doc.metadata.lastModified=(new Date).toISOString(),this.doc.metadata.author={user_id:this.$store.getters.getUser_id},this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"allArticles"},doc:this.doc})},editorOnSave(e){this.doc.content=e},editorOnChange(){return Promise.resolve()}}},Ie=Ue,Le=Object(u["a"])(Ie,Ae,Pe,!1,null,null,null),je=Le.exports;h()(Le,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VLayout:re["a"],VTextField:Y["a"],VTextarea:le["a"]});var qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-btn",{staticClass:"mb-3 mt-3",attrs:{color:"blue",dark:""},on:{click:function(t){return e.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-left")]),e._v("\n    Back\n  ")],1),a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Nested Pages")]),a("v-data-table",{staticClass:"elevation-1 mt-3",attrs:{headers:e.childrenTableHeaders,items:e.children},scopedSlots:e._u([{key:"item.actions",fn:function(t){var o=t.item;return[a("v-btn",{staticClass:"mr-3",attrs:{disabled:o.order==e.children[0].order,icon:"",small:""},on:{click:function(t){return e.orderUp(o)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-arrow-up")])],1),a("v-btn",{staticClass:"mr-3",attrs:{disabled:o.order==e.children[e.children.length-1].order,icon:"",small:""},on:{click:function(t){return e.orderDown(o)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-arrow-down")])],1),a("v-btn",{staticClass:"mr-3",attrs:{icon:"",to:"/articles/"+o.name,small:""}},[a("v-icon",[e._v("mdi-pencil")])],1),a("v-btn",{staticClass:"mr-3",attrs:{icon:"",small:""},on:{click:function(t){return e.deleteChild(o)}}},[a("v-icon",[e._v("mdi-delete-outline")])],1)]}}])}),a("h3",{staticClass:"headline mt-3"},[e._v("Create Nested Page")]),a("v-text-field",{attrs:{label:"Pathname"},on:{keypress:function(t){return e.filterNewDocument(t)}},model:{value:e.newDocument,callback:function(t){e.newDocument=t},expression:"newDocument"}}),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"success",dark:!e.processing,disabled:e.processing},on:{click:e.handleCreateNewDocument}},[e._v("\n          Create\n      ")])],1)],1),e.showDeleteDialog?a("custom-dialog",{attrs:{show:e.showDeleteDialog,"card-title":"Delete Page","card-text":"Are you sure you want to delete page '"+e.selectedChild.articleName+"'? This action is not reversible.","button-title":"Delete","button-color":"error"},on:{handle:e.handleDeleteChild,close:e.handleCloseDeleteChild}}):e._e()],1)},Ge=[];const Fe=function(e){const t=this.children.findIndex(t=>t.name==e.name&&t.parent==e.parent),a=this.children[t-1];this.$store.dispatch("UPDATE_DOCUMENT",{collection:"articles",query:{name:e.name,parent:e.parent},doc:{order:a.order}}).then(()=>this.$store.dispatch("UPDATE_DOCUMENT",{collection:"articles",query:{name:a.name,parent:a.parent},doc:{order:e.order}})).then(()=>this.fetchData())},Be=function(e){const t=this.children.findIndex(t=>t.name==e.name&&t.parent==e.parent),a=this.children[t+1];this.$store.dispatch("UPDATE_DOCUMENT",{collection:"articles",query:{name:e.name,parent:e.parent},doc:{order:a.order}}).then(()=>this.$store.dispatch("UPDATE_DOCUMENT",{collection:"articles",query:{name:a.name,parent:a.parent},doc:{order:e.order}})).then(()=>this.fetchData())};var He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{value:e.show,"max-width":"290"},on:{"click:outside":e.handleClose}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("\n        "+e._s(e.cardTitle)+"\n      ")]),a("v-card-text",[e._v(e._s(e.cardText))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"",dark:!e.processing,disabled:e.processing},on:{click:e.handleClose}},[e._v("\n          Cancel\n        ")]),a("v-btn",{attrs:{color:e.buttonColor,text:"",dark:!e.processing,disabled:e.processing},on:{click:e.handle}},[e._v("\n          "+e._s(e.buttonTitle)+"\n        ")])],1)],1)],1)],1)},Ke=[],Ye={props:{show:Boolean,cardTitle:String,cardText:String,buttonTitle:String,buttonColor:String},computed:{processing(){return this.$store.getters.getProcessing}},methods:{handle(){this.$emit("handle")},handleClose(){this.$emit("close")}}},ze=Ye,Je=a("169a"),We=Object(u["a"])(ze,He,Ke,!1,null,null,null),Ze=We.exports;h()(We,{VBtn:f["a"],VCard:q["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:G["c"],VDialog:Je["a"],VRow:K["a"],VSpacer:y["a"]});var Qe={data(){return{articleStatuses:[{text:"Unpublished",value:"unpublished"},{text:"Published",value:"published"}],articleTypes:[{text:"Basic Article",value:"basic-article"},{text:"Category",value:"category"}],children:[],childrenTableHeaders:[{text:"Pathname",align:"left",value:"name"},{text:"Article Name",value:"articleName"},{text:"Type",value:"metadata.type"},{text:"Status",value:"metadata.status"},{text:"Actions",value:"actions",align:"right"}],newDocument:"",showDeleteDialog:!1,selectedChild:null}},components:{CustomDialog:Ze},computed:{processing(){return this.$store.getters.getProcessing}},mounted(){this.fetchData()},methods:{filterNewDocument(e){const t=String.fromCharCode(e.keyCode);let a=!1;/^[A-Za-z]+$/.test(t)&&(a=!0),/[0-9]/.test(t)&&(a=!0),"-"===t&&(a=!0),"_"===t&&(a=!0),"."===t&&(a=!0),a||e.preventDefault()},fetchData(){this.$store.dispatch("GET_MANY",{collection:"articles",query:{parent:""},projection:{content:0}}).then(e=>{e&&(e.sort((e,t)=>e.order>t.order?1:t.order>e.order?-1:0),e.forEach(e=>{e.metadata.type=(this.articleTypes.find(t=>t.value==e.metadata.type)||{text:"-"}).text,e.metadata.status=(this.articleStatuses.find(t=>t.value==e.metadata.status)||{text:"-"}).text}),this.children=e)})},orderUp:Fe,orderDown:Be,deleteChild(e){this.selectedChild=e,this.showDeleteDialog=!0},handleDeleteChild(){this.$store.dispatch("GET_MANY",{collection:"articles",query:{parent:"/"+this.selectedChild.name},projection:{content:0}}).then(e=>{if(e&&0===e.length)return this.$store.dispatch("DELETE_DOCUMENT",{collection:"articles",query:{name:this.selectedChild.name,parent:""}}).finally(()=>this.fetchData());this.$store.commit("SET_ERROR","Error! This page contains nested pages.")}).finally(()=>{this.handleCloseDeleteChild()})},handleCloseDeleteChild(){this.showDeleteDialog=!1,this.selectedChild=null},handleCreateNewDocument(){this.newDocument?(this.$store.commit("CLEAN_ERROR"),this.$router.push(`/articles/${this.newDocument}?create=true&order=${this.children.length?this.children[this.children.length-1].order+1:0}`)):this.$store.commit("SET_ERROR",'The field "Pathname" cannot be empty.')}}},Xe=Qe,et=a("8fea"),tt=Object(u["a"])(Xe,qe,Ge,!1,null,null,null),at=tt.exports;h()(tt,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VDataTable:et["a"],VIcon:g["a"],VLayout:re["a"],VTextField:Y["a"]});var ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-btn",{staticClass:"mb-3 mt-3",attrs:{color:"blue",dark:""},on:{click:function(t){return e.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-left")]),e._v("\n    Back\n  ")],1),a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Meta Tags")]),a("v-text-field",{attrs:{label:"Last Modified",disabled:""},model:{value:e.lastModified,callback:function(t){e.lastModified=t},expression:"lastModified"}}),a("v-text-field",{attrs:{label:"Pathname",disabled:""},model:{value:e.doc.name,callback:function(t){e.$set(e.doc,"name",t)},expression:"doc.name"}}),a("v-text-field",{attrs:{label:"Title"},model:{value:e.doc.metadata.title,callback:function(t){e.$set(e.doc.metadata,"title",t)},expression:"doc.metadata.title"}}),a("v-text-field",{attrs:{label:"Keywords"},model:{value:e.doc.metadata.keywords,callback:function(t){e.$set(e.doc.metadata,"keywords",t)},expression:"doc.metadata.keywords"}}),a("v-textarea",{attrs:{label:"Description"},model:{value:e.doc.metadata.description,callback:function(t){e.$set(e.doc.metadata,"description",t)},expression:"doc.metadata.description"}}),a("h3",{staticClass:"headline mt-3 mb-5"},[e._v("Page Properties")]),a("v-select",{attrs:{items:e.articleStatuses,label:"Status",outlined:""},model:{value:e.doc.metadata.status,callback:function(t){e.$set(e.doc.metadata,"status",t)},expression:"doc.metadata.status"}}),a("v-select",{attrs:{items:e.articleTypes,label:"Type",outlined:""},model:{value:e.doc.metadata.type,callback:function(t){e.$set(e.doc.metadata,"type",t)},expression:"doc.metadata.type"}}),a("v-text-field",{attrs:{label:"Article Name"},model:{value:e.doc.articleName,callback:function(t){e.$set(e.doc,"articleName",t)},expression:"doc.articleName"}}),a("v-textarea",{attrs:{label:"Article Description"},model:{value:e.doc.description,callback:function(t){e.$set(e.doc,"description",t)},expression:"doc.description"}}),a("h3",{staticClass:"headline mt-3 mb-3"},[e._v("Preview")]),a("image-loader",{attrs:{image:e.doc.preview?e.doc.preview.image:null},on:{change:e.previewChange}}),e.doc.content?a("v-col",{staticClass:"pa-0"},[a("h3",{staticClass:"headline mt-3"},[e._v("Content")]),a("editor",{ref:"editor",attrs:{image:e.imageToolConfig,header:"",list:"",paragraph:"",raw:"",delimiter:"",code:"",warning:"",quote:"",marker:"",linkTool:"",inlineCode:"",table:"",autofocus:!1,"init-data":e.doc.content},on:{change:e.editorOnChange,save:e.editorOnSave}})],1):e._e(),a("v-col",{staticClass:"text-left pl-0"},[e.create?a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.createDocument}},[e._v("\n        Create\n      ")]):a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1),e.create?e._e():a("div",[a("h3",{staticClass:"headline mt-3"},[e._v("Nested Pages")]),a("v-data-table",{staticClass:"elevation-1 mt-3",attrs:{headers:e.childrenTableHeaders,items:e.children},scopedSlots:e._u([{key:"item.actions",fn:function(t){var o=t.item;return[a("v-btn",{staticClass:"mr-3",attrs:{disabled:o.order==e.children[0].order,icon:"",small:""},on:{click:function(t){return e.orderUp(o)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-arrow-up")])],1),a("v-btn",{staticClass:"mr-3",attrs:{disabled:o.order==e.children[e.children.length-1].order,icon:"",small:""},on:{click:function(t){return e.orderDown(o)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-arrow-down")])],1),a("v-btn",{staticClass:"mr-3",attrs:{icon:"",to:"/articles"+e.doc.parent+"/"+e.doc.name+"/"+o.name,small:""}},[a("v-icon",[e._v("mdi-pencil")])],1),a("v-btn",{staticClass:"mr-3",attrs:{icon:"",small:""},on:{click:function(t){return e.deleteChild(o)}}},[a("v-icon",[e._v("mdi-delete-outline")])],1)]}}],null,!1,832993736)}),a("h3",{staticClass:"headline mt-3"},[e._v("Create Nested Page")]),a("v-text-field",{attrs:{label:"Pathname"},on:{keypress:function(t){return e.filterNewDocument(t)}},model:{value:e.newDocument,callback:function(t){e.newDocument=t},expression:"newDocument"}}),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"success",dark:!e.processing,disabled:e.processing},on:{click:e.handleCreateNewDocument}},[e._v("\n          Create\n        ")])],1)],1)],1),e.showDeleteDialog?a("custom-dialog",{attrs:{show:e.showDeleteDialog,"card-title":"Delete Page","card-text":"Are you sure you want to delete page '"+e.selectedChild.articleName+"'? This action is not reversible.","button-title":"Delete","button-color":"error"},on:{handle:e.handleDeleteChild,close:e.handleCloseDeleteChild}}):e._e()],1)},it=[],nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10",md:"7"}},[a("v-file-input",{attrs:{outlined:"",accept:"image/*",placeholder:"Image",label:"Select a file",clearable:!1},on:{change:e.upload},model:{value:e.fileInput,callback:function(t){e.fileInput=t},expression:"fileInput"}})],1),a("v-col",{attrs:{cols:"2",md:"1"}},[a("v-btn",{staticClass:"mt-1 mr-1",attrs:{icon:"",large:""},on:{click:e.clear}},[a("v-icon",[e._v("mdi-delete-outline")])],1)],1),a("v-col",{attrs:{cols:"8",md:"6"}},[e.image?a("v-img",{staticClass:"grey lighten-2 ml-auto mr-auto",attrs:{src:e.image.file.url,"max-width":e.previewMaxWidth}}):e._e()],1)],1)},st=[],rt={props:{image:Object,previewMaxWidth:{type:String,default:"100%"}},data(){return{fileInput:null}},computed:{imageToolConfig:oe},methods:{upload(e){e?this.imageToolConfig.config.uploader.uploadByFile(e).then(({file:e})=>this.$emit("change",{file:e})).catch(()=>this.$emit("change",null)):this.$emit("change",null)},clear(){this.fileInput=null,this.$emit("change",null)}}},lt=rt,ct=a("23a7"),dt=Object(u["a"])(lt,nt,st,!1,null,null,null),ut=dt.exports;h()(dt,{VBtn:f["a"],VCol:F["a"],VFileInput:ct["a"],VIcon:g["a"],VImg:b["a"],VRow:K["a"]});var mt={data(){return{doc:{name:this.$route.path.replace("articles","").replace(/^.*[\\\/]/,""),parent:this.$route.path.replace("/articles","").replace(/[^\/]*$/,"").replace(/\/$/,""),order:parseInt(this.$route.query.order),metadata:{status:"unpublished",type:"basic-article",title:"",keywords:"",description:"",created:"",lastModified:"",author:{user_id:""}},preview:null,content:null,statistics:{impressions:0},articleName:"",description:""},create:"true"==this.$route.query.create,articleStatuses:[{text:"Unpublished",value:"unpublished"},{text:"Published",value:"published"}],articleTypes:[{text:"Basic Article",value:"basic-article"},{text:"Category",value:"category"}],children:[],childrenTableHeaders:[{text:"Pathname",align:"left",value:"name"},{text:"Article Name",value:"articleName"},{text:"Type",value:"metadata.type"},{text:"Status",value:"metadata.status"},{text:"Actions",value:"actions",align:"right"}],newDocument:"",showDeleteDialog:!1,selectedChild:null}},components:{CustomDialog:Ze,Editor:X["a"],ImageLoader:ut},computed:{lastModified:ie,imageToolConfig:oe,processing(){return this.$store.getters.getProcessing}},mounted(){this.create?this.doc.content={}:this.fetchData()},methods:{filterNewDocument(e){const t=String.fromCharCode(e.keyCode);let a=!1;/^[A-Za-z]+$/.test(t)&&(a=!0),/[0-9]/.test(t)&&(a=!0),"-"===t&&(a=!0),"_"===t&&(a=!0),"."===t&&(a=!0),a||e.preventDefault()},fetchData(){this.$store.dispatch("GET_DOCUMENT",{collection:"articles",query:{name:this.doc.name,parent:this.doc.parent}}).then(e=>(e&&(delete e._id,this.doc=e),this.$store.dispatch("GET_MANY",{collection:"articles",query:{parent:this.doc.parent+"/"+this.doc.name},projection:{content:0}}))).then(e=>{e&&(e.sort((e,t)=>e.order>t.order?1:t.order>e.order?-1:0),e.forEach(e=>{e.metadata.type=(this.articleTypes.find(t=>t.value==e.metadata.type)||{text:"-"}).text,e.metadata.status=(this.articleStatuses.find(t=>t.value==e.metadata.status)||{text:"-"}).text}),this.children=e)})},async updateDocument(){this.$refs.editor&&await this.$refs.editor.save(),this.doc.metadata.lastModified=(new Date).toISOString(),this.doc.metadata.author={user_id:this.$store.getters.getUser_id},this.$store.dispatch("UPDATE_DOCUMENT",{collection:"articles",query:{name:this.doc.name,parent:this.doc.parent},doc:this.doc})},async createDocument(){this.$refs.editor&&await this.$refs.editor.save(),this.doc.metadata.created=(new Date).toISOString(),this.doc.metadata.lastModified=(new Date).toISOString(),this.doc.metadata.author={user_id:this.$store.getters.getUser_id},this.$store.dispatch("CREATE_DOCUMENT",{collection:"articles",doc:this.doc}).then(e=>{e&&(this.$router.replace({...this.$router.currentRoute,query:{create:void 0}}),this.create=!1)})},previewChange(e){this.doc.preview=e?{image:e}:null},editorOnSave(e){this.doc.content=e},editorOnChange(){return Promise.resolve()},orderUp:Fe,orderDown:Be,deleteChild(e){this.selectedChild=e,this.showDeleteDialog=!0},handleDeleteChild(){this.$store.dispatch("GET_MANY",{collection:"articles",query:{parent:this.doc.parent+"/"+this.doc.name+"/"+this.selectedChild.name},projection:{content:0}}).then(e=>{if(e&&0===e.length)return this.$store.dispatch("DELETE_DOCUMENT",{collection:"articles",query:{name:this.selectedChild.name,parent:this.doc.parent+"/"+this.doc.name}}).then(()=>this.fetchData());this.$store.commit("SET_ERROR","Error! This page contains nested pages.")}).finally(()=>{this.handleCloseDeleteChild()})},handleCloseDeleteChild(){this.showDeleteDialog=!1,this.selectedChild=null},handleCreateNewDocument(){this.newDocument?(this.$store.commit("CLEAN_ERROR"),this.$router.push(`/articles${this.doc.parent}/${this.doc.name}/${this.newDocument}?create=true&order=${this.children.length?this.children[this.children.length-1].order+1:0}`)):this.$store.commit("SET_ERROR",'The field "Pathname" cannot be empty.')}}},ht=mt,pt=a("b974"),vt=Object(u["a"])(ht,ot,it,!1,null,null,null),ft=vt.exports;h()(vt,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VDataTable:et["a"],VIcon:g["a"],VLayout:re["a"],VSelect:pt["a"],VTextField:Y["a"],VTextarea:le["a"]});var gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("h3",{staticClass:"headline mt-3"},[e._v("Project Properties")]),a("v-text-field",{staticClass:"mt-5",attrs:{label:"Project Name"},model:{value:e.doc.projectName,callback:function(t){e.$set(e.doc,"projectName",t)},expression:"doc.projectName"}}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-select",{attrs:{items:e.protocols,label:"Protocol",outlined:""},model:{value:e.doc.protocol,callback:function(t){e.$set(e.doc,"protocol",t)},expression:"doc.protocol"}})],1),a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{label:"Domain"},model:{value:e.doc.domain,callback:function(t){e.$set(e.doc,"domain",t)},expression:"doc.domain"}})],1)],1),a("h3",{staticClass:"headline mt-3 mb-3"},[e._v("Project Logo")]),a("image-loader",{attrs:{image:e.doc.logo?e.doc.logo.image:null,"preview-max-width":"256"},on:{change:e.logoChange}}),a("h3",{staticClass:"headline mt-3 mb-3"},[e._v("Project Favicon")]),a("image-loader",{attrs:{image:e.doc.icon.favicon?e.doc.icon.favicon.image:null,"preview-max-width":"48"},on:{change:e.faviconChange}}),a("h3",{staticClass:"headline mt-3"},[e._v("Navbar Links")]),a("v-data-table",{staticClass:"elevation-1 mt-3",attrs:{headers:e.navbarLinksTableHeaders,items:e.doc.components.navbar.links,"items-per-page":5},scopedSlots:e._u([{key:"item.actions",fn:function(t){var o=t.item;return[a("v-btn",{staticClass:"mr-3",attrs:{icon:"",small:""},on:{click:function(t){return e.deleteNavbarLink(o.url)}}},[a("v-icon",[e._v("mdi-delete-outline")])],1)]}}])}),a("v-row",[a("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Url",outlined:""},model:{value:e.newNavbarLink.url,callback:function(t){e.$set(e.newNavbarLink,"url",t)},expression:"newNavbarLink.url"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Anchor",outlined:""},model:{value:e.newNavbarLink.anchor,callback:function(t){e.$set(e.newNavbarLink,"anchor",t)},expression:"newNavbarLink.anchor"}})],1),a("v-col",{staticClass:"pt-0"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.addNavbarLink}},[e._v("\n          Add\n        ")])],1)],1),a("h3",{staticClass:"headline mt-3"},[e._v("Contents of Page Components")]),a("v-textarea",{staticClass:"mt-5",attrs:{label:"Additional in <head> Tag",outlined:""},model:{value:e.doc.components.head.html,callback:function(t){e.$set(e.doc.components.head,"html",t)},expression:"doc.components.head.html"}}),a("v-textarea",{attrs:{label:"Additional Scripts",outlined:""},model:{value:e.doc.components.scripts.html,callback:function(t){e.$set(e.doc.components.scripts,"html",t)},expression:"doc.components.scripts.html"}}),a("v-textarea",{attrs:{label:"Comment Block",outlined:""},model:{value:e.doc.components.comments.html,callback:function(t){e.$set(e.doc.components.comments,"html",t)},expression:"doc.components.comments.html"}}),a("v-textarea",{attrs:{label:"Social Network Block",outlined:""},model:{value:e.doc.components.shareLinks.html,callback:function(t){e.$set(e.doc.components.shareLinks,"html",t)},expression:"doc.components.shareLinks.html"}}),a("v-col",{staticClass:"text-left pl-0"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},bt=[],Ct={data(){return{doc:{name:"",projectName:"",domain:"",protocol:"",components:{navbar:{links:[]},head:{html:""},scripts:{html:""},comments:{html:""},shareLinks:{html:""}},logo:null,icon:{favicon:null}},protocols:["http://","https://"],navbarLinksTableHeaders:[{text:"Url",align:"left",value:"url"},{text:"Anchor",value:"anchor"},{text:"Actions",value:"actions",align:"right"}],newNavbarLink:{url:"",anchor:""}}},components:{ImageLoader:ut},computed:{processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"common"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{async updateDocument(){this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"common"},doc:this.doc})},logoChange(e){this.doc.logo=e?{image:e}:null},faviconChange(e){this.doc.icon.favicon=e?{image:e}:null},deleteNavbarLink(e){const t=this.doc.components.navbar.links.findIndex(t=>t.url===e);this.doc.components.navbar.links.splice(t,1)},addNavbarLink(){this.doc.components.navbar.links.push(Object.assign({},this.newNavbarLink)),this.newNavbarLink.url="",this.newNavbarLink.anchor=""}}},_t=Ct,Et=Object(u["a"])(_t,gt,bt,!1,null,null,null),xt=Et.exports;h()(Et,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VDataTable:et["a"],VIcon:g["a"],VLayout:re["a"],VRow:K["a"],VSelect:pt["a"],VTextField:Y["a"],VTextarea:le["a"]});var Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("v-col",{staticClass:"mt-5 pt-5 pb-0"},[a("v-textarea",{attrs:{outlined:"",label:"Content",placeholder:"User-agent: *"},model:{value:e.doc.content,callback:function(t){e.$set(e.doc,"content",t)},expression:"doc.content"}})],1),a("v-col",{staticClass:"text-left"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},kt=[],yt={data(){return{doc:{name:"",content:""}}},computed:{processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"robots"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{updateDocument(){this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"robots"},doc:this.doc})}}},wt=yt,St=Object(u["a"])(wt,Tt,kt,!1,null,null,null),Dt=St.exports;h()(St,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VLayout:re["a"],VTextarea:le["a"]});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("v-col",{staticClass:"mt-5 pt-5 pb-0"},[a("v-textarea",{attrs:{outlined:"",label:"Content",placeholder:"google.com, pub-..."},model:{value:e.doc.content,callback:function(t){e.$set(e.doc,"content",t)},expression:"doc.content"}})],1),a("v-col",{staticClass:"text-left"},[a("v-btn",{attrs:{color:"blue",dark:!e.processing,disabled:e.processing},on:{click:e.updateDocument}},[e._v("\n        Save\n      ")])],1)],1)],1)},Ot=[],Nt={data(){return{doc:{name:"",content:""}}},computed:{processing(){return this.$store.getters.getProcessing}},mounted(){this.$store.dispatch("GET_DOCUMENT",{collection:"service",query:{name:"ads"}}).then(e=>{e&&(delete e._id,this.doc=e)})},methods:{updateDocument(){this.$store.dispatch("UPDATE_DOCUMENT",{collection:"service",query:{name:"ads"},doc:this.doc})}}},Rt=Nt,Vt=Object(u["a"])(Rt,$t,Ot,!1,null,null,null),Mt=Vt.exports;h()(Vt,{VBtn:f["a"],VCol:F["a"],VContainer:B["a"],VLayout:re["a"],VTextarea:le["a"]});const At=e=>(t,a)=>t[e]=a,Pt=e=>t=>t[e]=!t[e],Ut={processing:!1,error:null,drawer:null},It={getProcessing:e=>e.processing,getError:e=>e.error,getDrawer:e=>e.drawer},Lt={SET_PROCESSING:At("processing"),SET_ERROR:At("error"),CLEAN_ERROR:e=>{e.error=null},setDrawer:At("drawer"),toggleDrawer:Pt("drawer")};var jt={state:Ut,getters:It,mutations:Lt},qt=a("bc3a"),Gt=a.n(qt);const Ft=Gt.a.create({});Ft.interceptors.response.use((function(e){return e}),(function(e){return e.response&&403==e.response.status&&"/api/authentication/signin"!==e.response.config.url&&(localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user_email"),localStorage.removeItem("user_id"),setTimeout(()=>window.location.reload(),1e3)),Promise.reject(e)}));var Bt=Ft;const Ht={isAuthenticated:JSON.parse(localStorage.getItem("isAuthenticated"))},Kt={isUserAuthenticated:e=>e.isAuthenticated},Yt={SET_USER_AUTHENTICATED(e,t){e.isAuthenticated=t,localStorage.setItem("isAuthenticated",t)}},zt={SIGNIN({commit:e},t){return e("SET_PROCESSING",!0),e("CLEAN_ERROR"),Bt.post("/api/authentication/signin",t).then(e=>e.data).then(t=>{e("SET_USER_AUTHENTICATED",!0),e("SET_USER_EMAIL",t.email),e("SET_USER_ID",t._id)}).catch(()=>e("SET_ERROR","Error! The email or password is incorrect.")).finally(()=>e("SET_PROCESSING",!1))},SIGNOUT({commit:e}){return e("SET_PROCESSING",!0),e("CLEAN_ERROR"),Bt.post("/api/authentication/signout").then(()=>{e("SET_USER_AUTHENTICATED",!1),e("SET_USER_EMAIL",""),e("SET_USER_ID","")}).catch(()=>e("SET_ERROR","Error! Logout failed.")).finally(()=>e("SET_PROCESSING",!1))}};var Jt={state:Ht,getters:Kt,mutations:Yt,actions:zt};const Wt={GET_MANY({commit:e},{collection:t,query:a,limit:o,skip:i,projection:n}){return e("CLEAN_ERROR"),e("SET_PROCESSING",!0),Bt.post("/api/documents/get_many",{collection:t,query:a,limit:o,skip:i,projection:n}).then(e=>e.data).catch(()=>e("SET_ERROR","Failed to load list of documents.")).finally(()=>e("SET_PROCESSING",!1))},GET_DOCUMENT({commit:e},{collection:t,query:a}){return e("CLEAN_ERROR"),e("SET_PROCESSING",!0),Bt.post("/api/documents/get",{collection:t,query:a}).then(e=>e.data).catch(()=>e("SET_ERROR","Failed to load document.")).finally(()=>e("SET_PROCESSING",!1))},CREATE_DOCUMENT({commit:e},{collection:t,doc:a}){return e("CLEAN_ERROR"),e("SET_PROCESSING",!0),Bt.post("/api/documents/create",{collection:t,doc:a}).then(e=>e.data).catch(()=>e("SET_ERROR","Failed to create document.")).finally(()=>e("SET_PROCESSING",!1))},UPDATE_DOCUMENT({commit:e},{collection:t,query:a,doc:o}){return e("CLEAN_ERROR"),e("SET_PROCESSING",!0),Bt.post("/api/documents/update",{collection:t,query:a,doc:o}).catch(()=>e("SET_ERROR","Failed to save document.")).finally(()=>e("SET_PROCESSING",!1))},DELETE_DOCUMENT({commit:e},{collection:t,query:a}){return e("CLEAN_ERROR"),e("SET_PROCESSING",!0),Bt.post("/api/documents/delete",{collection:t,query:a}).catch(()=>e("SET_ERROR","Failed to delete document.")).finally(()=>e("SET_PROCESSING",!1))}};var Zt={actions:Wt};const Qt={async UPLOAD_FILE({commit:e},{directory:t,file:a,name:o}){if(e("CLEAN_ERROR"),e("SET_PROCESSING",!0),void 0==a||"string"!=typeof t||"string"!=typeof o)return e("SET_ERROR","Failed to upload file."),e("SET_PROCESSING",!1),!1;const i=1024e3;let n=new FileReader,s=0;try{while(s<a.size){let e=s+i+1,r=a.slice(s,e),l=await new Promise(e=>{n.onloadend=function(t){t.target.readyState===FileReader.DONE&&e(n.result)},n.readAsDataURL(r)});const c={directory:t,content:l,name:o,append:0!=s};await Bt.post("/api/static_files/upload",c),s=e}}catch(r){return e("SET_PROCESSING",!1),e("SET_ERROR","Failed to upload file."),!1}return e("SET_PROCESSING",!1),!0}};var Xt={actions:Qt};const ea={email:localStorage.getItem("user_email")||"",_id:localStorage.getItem("user_id")||""},ta={getUserEmail:e=>e.email,getUser_id:e=>e._id},aa={SET_USER_EMAIL(e,t){e.email=t,localStorage.setItem("user_email",t)},SET_USER_ID(e,t){e._id=t,localStorage.setItem("user_id",t)}};var oa={state:ea,getters:ta,mutations:aa};o["a"].use(l["a"]);const ia=new l["a"].Store({modules:{app:jt,authentication:Jt,documents:Zt,files:Xt,user:oa}});var na=ia;o["a"].use(P["a"]);const sa=(e,t,a)=>{if(!na.getters.isUserAuthenticated)return a();a({name:"Index"})},ra=(e,t,a)=>{if(na.getters.isUserAuthenticated)return a();a({name:"Signin"})};var la=new P["a"]({routes:[{path:"/signin",name:"Signin",component:W,beforeEnter:sa},{path:"/",redirect:"/index",beforeEnter:ra},{path:"/index",name:"Index",component:de,beforeEnter:ra},{path:"/search",name:"Search",component:fe,beforeEnter:ra},{path:"/about",name:"About",component:xe,beforeEnter:ra},{path:"/contact",name:"Contact",component:De,beforeEnter:ra},{path:"/terms",name:"Terms",component:Me,beforeEnter:ra},{path:"/all_articles",name:"AllArticles",component:je,beforeEnter:ra},{path:"/articles",name:"Articles",component:at,beforeEnter:ra},{path:"/articles/*",name:"Article",component:ft,beforeEnter:ra},{path:"/settings",name:"Settings",component:xt,beforeEnter:ra},{path:"/robots.txt",name:"Robots",component:Dt,beforeEnter:ra},{path:"/ads.txt",name:"Ads",component:Mt,beforeEnter:ra}]}),ca=(a("5363"),a("f309"));o["a"].use(ca["a"]);var da=new ca["a"]({icons:{defaultSet:"mdi"}});o["a"].config.productionTip=!1,new o["a"]({router:la,store:na,vuetify:da,render:e=>e(A)}).$mount("#app")},"71ec":function(e,t,a){},a693:function(e,t,a){"use strict";var o=a("f759"),i=a.n(o);i.a},f759:function(e,t,a){}});
//# sourceMappingURL=app.2274fa3d.js.map